## ๐ ุฌุฒูู ุฌุงูุน: ูุงูพุฑูพุงุฑุงูุชุฑูุง ูุงู ฺฉุงููููุดู (Kernel Size, Padding, Stride)

ุงู ุฌุฒูู ุจุฑ ุงุณุงุณ ุชูุถุญุงุช ุงุฑุงุฆู ุดุฏู ุฏุฑ ููุฑุฏ ูุญูู ุงูุชุฎุงุจ **ุงูุฏุงุฒู ฺฉุฑูู (Kernel Size)** ู ุชุฃุซุฑ **Padding** ู **Stride** ุฏุฑ ุดุจฺฉูโูุง ุนุตุจ ฺฉุงููููุดูุงู (CNN) ุชูู ุดุฏู ุงุณุช.

---

## ฑ. ุชุนู ุงูุฏุงุฒู ฺฉุฑูู (Kernel Size)

**ฺฉุฑูู ุณุงุฒ** (ูุงููุฏ $3 \times 3$ุ $5 \times 5$ุ $7 \times 7$) ฺฉ ุงุฒ ูููโุชุฑู ูุงูพุฑูพุงุฑุงูุชุฑูุง ุงุณุช ฺฉู ุชูุณุท ุทุฑุงุญ ุดุจฺฉู ุชูุธู ูโุดูุฏ ู ุจุฑ ุชูุงูุง ูุฏู ุฏุฑ ุงุณุชุฎุฑุงุฌ ูฺฺฏโูุง ุชุฃุซุฑ ูุณุชูู ุฏุงุฑุฏ. ุฏู ุนุงูู ุงุตู ุฏุฑ ุงูุชุฎุงุจ ุณุงุฒ ฺฉุฑูู ููุด ุฏุงุฑูุฏ:

### ุงูู) ุงูุฏุงุฒู ุชุตูุฑ ูุฑูุฏ (Input Image Size)
* **ุชุตุงูุฑ ุจุฒุฑฺฏุชุฑ:** ููุช ุชุตูุฑ ุจุฒุฑฺฏุชุฑ ุงุณุช (ูุซูุงู $1000 \times 1000$ ุฏุฑ ููุงุณู ุจุง $220 \times 220$) ู ุฌุฒุฆุงุช (Details) ู ูพฺฉุณูโูุง ุจุดุชุฑ ุฏุงุฑุฏุ **ฺฉุฑููโูุง ุจุฒุฑฺฏุชุฑ** (ูุงููุฏ $7 \times 7$ ุง $11 \times 11$) ุจูุชุฑ ุนูู ูโฺฉููุฏ ุชุง ุจุชูุงููุฏ ุงูฺฏููุง ููุฌูุฏ ุฏุฑ ูุถุง ุจุฒุฑฺฏโุชุฑ ุฑุง ุฏุฑฺฉ ฺฉููุฏ.
* **ูุซุงู:** ุฏุฑ ุชุตูุฑ $1000 \times 1000$ ฺฏุฑุจูุ ฺฉุฑูู $3 \times 3$ ููุท ุฌุฒุฆุงุช ุจุณุงุฑ ูุญู (ูุงููุฏ ุชุงุฑ ูู) ุฑุง ุชุดุฎุต ุฏุงุฏุ ุฏุฑ ุญุงู ฺฉู ฺฉุฑูู $11 \times 11$ ุชูุงูุณุช ูุจูโูุง ุจุฒุฑฺฏุชุฑ (Global Patterns) ุฏูุฑ ฺฏุฑุจู ุฑุง ุจู ุฎูุจ ุชุดุฎุต ุฏูุฏ.

### ุจ) ููุน ุงูฺฏููุง ููุฑุฏ ูุธุฑ (Local vs. Global Patterns)

| ููุน ุงูฺฏู | ูฺฺฏ | ฺฉุฑูู ููุงุณุจ | ูุซุงู ุงุณุชุฎุฑุงุฌ |
| :--- | :--- | :--- | :--- |
| **ุงูฺฏู ูุญู (Local Pattern)** | ุฌุฒุฆุงุช ฺฉูฺฺฉุ ุฑุฒ ู ูุญู. | **ฺฉุฑููโูุง ฺฉูฺฺฉ** ($3 \times 3$) | ฺุดู ฺฏุฑุจูุ ุชุงุฑ ููุ ุฎุทูุท ุชุฒ. |
| **ุงูฺฏู ุณุฑุงุณุฑ (Global Pattern)** | ุงูฺฏููุง ุจุฒุฑฺฏ ู ุณุงุฎุชุงุฑูุง ฺฉู ุชุตูุฑ. | **ฺฉุฑููโูุง ุจุฒุฑฺฏ** ($5 \times 5$ ุจู ุจุงูุง) | ุญุงุดู ู ุดฺฉู ฺฉู ุจุฏู ฺฏุฑุจู. |

---

## ฒ. ูุดฺฉูุงุช ูุงุด ุงุฒ ุนููุงุช ฺฉุงููููุดู ุจุฏูู Padding

ุนููุงุช ฺฉุงููููุดู ุจู ุตูุฑุช ูพุดโูุฑุถ ุฏู ูุดฺฉู ุงุณุงุณ ุฏุฑ ูพุฑุฏุงุฒุด ุชุตูุฑ ุงุฌุงุฏ ูโฺฉูุฏ:

### ูุดฺฉู ฑ: ฺฉุงูุด ุงุจุนุงุฏ ุฎุฑูุฌ (Output Shrinkage)
* **ูุณุฆูู:** ูพุณ ุงุฒ ุงุนูุงู ููุชุฑ (ฺฉุฑูู) ุจุฑ ุฑู ูุงุชุฑุณ ูุฑูุฏ (ุชุตูุฑ ุง Feature Map)ุ ุงุจุนุงุฏ ุฎุฑูุฌ (Feature Map ุฌุฏุฏ) **ฺฉูฺฺฉุชุฑ** ุงุฒ ุงุจุนุงุฏ ูุฑูุฏ ูโุดูุฏ.
    * ูุซุงู: ุงุนูุงู ููุชุฑ $3 \times 3$ ุฑู ูุฑูุฏ $5 \times 5$ุ ุฎุฑูุฌ $3 \times 3$ ุชููุฏ ูโฺฉูุฏ.
* **ุงููุช:** ุฏุฑ ุดุจฺฉูโูุง ุนููุ ุงฺฏุฑ ุงู ฺฉุงูุด ุงุฏุงูู ุงุจุฏุ Feature Map ููุง ุจุณุงุฑ ฺฉูฺฺฉ ุฎูุงูุฏ ุดุฏ ู ุงุทูุงุนุงุช ุงุฒ ุจู ูโุฑูุฏ.

### ูุดฺฉู ฒ: ูุงุฏุฏูโฺฏุฑูุชู ุดุฏู ูพฺฉุณูโูุง ูุฑุฒ (Ignoring Border Pixels) 
* **ูุณุฆูู:** ูพฺฉุณูโูุง ูุงูุน ุฏุฑ **ูุฑฺฉุฒ ุชุตูุฑ** ุฏูุนุงุช ุจุดุชุฑ ุชูุณุท ููุชุฑ ุฏุฏู ูโุดููุฏ ู ุฏุฑ ูุญุงุณุจุงุช ุจุดุชุฑ ุดุฑฺฉุช ูโฺฉููุฏ. ุงูุง ูพฺฉุณูโูุง ูุงูุน ุฏุฑ **ุญุงุดู ู ฺฉูุงุฑูโูุง** ุฏูุนุงุช ุจุณุงุฑ ฺฉูุชุฑ (ูุซูุงู ููุท ฺฉ ุจุงุฑ) ุฏุฏู ูโุดููุฏ.
* **ูุชุฌู:** ุงุทูุงุนุงุช ููุฌูุฏ ุฏุฑ ูุจูโูุง ุชุตูุฑ ุจู ุทูุฑ ุถุนูโุชุฑ ุฏุฑ Feature Map ุฎุฑูุฌ ููุนฺฉุณ ูโุดููุฏ.

---

## ณ. ุฑุงู ุญู: ุงุณุชูุงุฏู ุงุฒ Padding (ุชฺฉูู ุญุงุดู)

**Padding** ุจู ูุนูุง ุงูุฒูุฏู ุฑุฏูโูุง ู ุณุชููโูุง ุงุฒ ูพฺฉุณูโูุง ุงุถุงู ุจู **ุงุทุฑุงู ุญุงุดู** ุชุตูุฑ ูุฑูุฏ ุงุณุช ุชุง ูุดฺฉูุงุช ููู ุจุฑุทุฑู ุดููุฏ.

### ุงูู) Zero Padding (ูพุฏูฺฏ ุตูุฑ)
* **ุงุฏู ุงุตู:** ููุงุฏุฑ ูพฺฉุณูโูุง ุงุถุงูู ุดุฏู (ูพุฏูฺฏ) ุฑุง **ุตูุฑ** ูุฑุงุฑ ูโุฏูู.
* **ูุฒุงุง:**
    1.  **ุญูุธ ุงุจุนุงุฏ:** ุชุถูู ูโฺฉูุฏ ฺฉู ุณุงุฒ Feature Map ุฎุฑูุฌ ุจุง ุณุงุฒ ูุฑูุฏ **ุจุฑุงุจุฑ** ุจุงุดุฏ (ุฏุฑ ุตูุฑุช ุงูุชุฎุงุจ ููุงุณุจ ููุฏุงุฑ $P$).
    2.  **ุจูุจูุฏ ูุฑุฒูุง:** ุจู ฺฉุฑูู ุงุฌุงุฒู ูโุฏูุฏ ุชุง ุจุฑ ุฑู ูพฺฉุณูโูุง ฺฉูุงุฑ ุญุฑฺฉุช ฺฉูุฏ ู ุขูโูุง ุฑุง **ุฏูุนุงุช ุจุดุชุฑ** ุฏุฑ ูุญุงุณุจุงุช ุฎูุฏ ูุญุงุธ ฺฉูุฏ.

### ุจ) ูุญุงุณุจู Padding (P) ุจุฑุง ุญูุธ ุงุจุนุงุฏ (Same Padding)

ุจุฑุง ุงูฺฉู ุงุจุนุงุฏ ุฎุฑูุฌ **ุจุฑุงุจุฑ** ุจุง ุงุจุนุงุฏ ูุฑูุฏ ($N \times N$) ุจูุงูุฏุ ููุฏุงุฑ **P** (ุชุนุฏุงุฏ ูพฺฉุณูโูุง ุงุถุงูู ุดุฏู ุงุฒ ูุฑ ุทุฑู) ุจุงุฏ ุจู ุงูุฏุงุฒู ููุชุฑ ($F$) ูุงุจุณุชู ุจุงุดุฏ:

$$P = \frac{F - 1}{2}$$

* **ูุซุงูโูุง:**
    * ุงฺฏุฑ $F=3$ (ฺฉุฑูู $3 \times 3$): $P = (3-1)/2 = 1$ (ฺฉ ูพฺฉุณู ูพุฏูฺฏ ุงุฒ ูุฑ ุทุฑู).
    * ุงฺฏุฑ $F=5$ (ฺฉุฑูู $5 \times 5$): $P = (5-1)/2 = 2$ (ุฏู ูพฺฉุณู ูพุฏูฺฏ ุงุฒ ูุฑ ุทุฑู).

> **ุชูุฌู:** ุฏุฑ ูุฑูโูุฑฺฉโูุง ุงุฏฺฏุฑ ุนูู (ูุงููุฏ Keras/TensorFlow)ุ ุจู ุงู ุญุงูุช ฺฉู ุงูุฏุงุฒู ุฎุฑูุฌ ุญูุธ ูโุดูุฏุ **Same Padding** ฺฏูุชู ูโุดูุฏ ู ุจู ุญุงูุช ฺฉู ูพุฏูฺฏ ุตูุฑ ุงุณุชุ **Valid Padding** ฺฏูุชู ูโุดูุฏ.

---

## ด. ฺฏุงู ุญุฑฺฉุช ููุชุฑ (Stride)

**Stride ($S$)** ูุงูพุฑูพุงุฑุงูุชุฑ ุฏฺฏุฑ ุงุณุช ฺฉู **ฺฏุงู ุญุฑฺฉุช ููุชุฑ** ุฑู ุชุตูุฑ ูุฑูุฏ ุฑุง ุชุนู ูโฺฉูุฏ.

* **$S=1$ (ูพุดโูุฑุถ):** ููุชุฑ ุฏุฑ ูุฑ ุญุฑฺฉุชุ ฺฉ ูพฺฉุณู ุจู ุฑุงุณุช ู ฺฉ ูพฺฉุณู ุจู ูพุงู ุญุฑฺฉุช ูโฺฉูุฏ.
* **$S=2$ ุจู ุจุงูุง:** ููุชุฑ ุฏู ุง ฺูุฏ ูพฺฉุณู ุฑุง ุฌุง ูโุงูุฏุงุฒุฏ. ุงู ฺฉุงุฑ ููุฌุฑ ุจู **ฺฉุงูุด ุงุจุนุงุฏ Feature Map ุฎุฑูุฌ** ูโุดูุฏ.

### ุงูู) ูุฑููู ูุญุงุณุจู ุงุจุนุงุฏ ุฎุฑูุฌ

ุงุจุนุงุฏ Feature Map ุฎุฑูุฌ ($N_{out}$) ุจุฑ ุงุณุงุณ ุงุจุนุงุฏ ูุฑูุฏ ($N$)ุ ุงูุฏุงุฒู ููุชุฑ ($F$)ุ ููุฏุงุฑ Padding ($P$) ู ููุฏุงุฑ Stride ($S$) ูุญุงุณุจู ูโุดูุฏ:

$$N_{out} = \lfloor \frac{N + 2P - F}{S} \rfloor + 1$$

* **ูุซุงู:** ูุฑูุฏ $N=9$ุ ููุชุฑ $F=3$ุ $P=0$ุ $S=2$
    $$N_{out} = \lfloor \frac{9 + 2(0) - 3}{2} \rfloor + 1 = \lfloor \frac{6}{2} \rfloor + 1 = 3 + 1 = 4$$
    ุฎุฑูุฌ $4 \times 4$ ุฎูุงูุฏ ุจูุฏ.

* **ูุซุงู Same Padding:** ูุฑูุฏ $N=9$ุ ููุชุฑ $F=3$ุ $P=1$ (ุจุฑุง Same)ุ $S=2$
    $$N_{out} = \lfloor \frac{9 + 2(1) - 3}{2} \rfloor + 1 = \lfloor \frac{8}{2} \rfloor + 1 = 4 + 1 = 5$$
    ุฎุฑูุฌ $5 \times 5$ ุฎูุงูุฏ ุจูุฏ.

ุขุง ุชูุงู ุฏุงุฑุฏ ุฏุฑ ููุฑุฏ ุชุฃุซุฑ Stride ุฏุฑ ูุนูุงุฑโูุง ูุฎุชูู CNN (ูุงููุฏ ฺฉุงูุด ุงุจุนุงุฏ ุจุง Stride ุจู ุฌุง Pooling) ุจุดุชุฑ ุจุฏุงูุฏุ
